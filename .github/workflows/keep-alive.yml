name: Supabase Keep Alive

on:
  schedule:
    # Roda a cada 2 dias às 8h UTC (dia sim, dia não)
    - cron: '0 8 */2 * *'
  workflow_dispatch: # Permite rodar manualmente

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Supabase
        run: |
          curl -s "${{ secrets.NEXT_PUBLIC_SUPABASE_URL }}/rest/v1/" \
            -H "apikey: ${{ secrets.NEXT_PUBLIC_SUPABASE_ANON_KEY }}"
          echo "✅ Ping realizado com sucesso!"
